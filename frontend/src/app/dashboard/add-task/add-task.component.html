<app-header/>

<div class="container text-center mt-4" style="position: sticky; top: 0">
  <h1>Task creation view</h1>

  <form class="py-4 text-start w-50 mb-4" style="margin: auto" ngForm="taskForm" (ngSubmit)="handleFormSubmit()">
    <div class="mb-3">
      <label class="form-label  fw-bolder">Title</label>
      <textarea
        class="form-control"
        name="title"
        placeholder="Enter task title"
        rows="5"
        [formControl]="taskForm.controls.title"
      ></textarea>
      <span class="d-block text-danger fs-6 mt-1" *ngIf="taskForm.invalid && taskForm.controls.title.dirty && taskForm.controls.title.errors?.['required']">Title is required</span>

    </div>

    <div class="mb-3">
      <label class="form-label  fw-bolder">Description</label>
      <textarea
        class="form-control"
        name="description"
        placeholder="Enter task description"
        rows="5"
        [formControl]="taskForm.controls.description"
      ></textarea>
      <span class="d-block text-danger fs-6 mt-1" *ngIf="taskForm.invalid && taskForm.controls.description.dirty && taskForm.controls.description.errors?.['required']">Description is required</span>
    </div>

    <div class="mb-3">
      <label class="form-label  fw-bolder">Priority</label>
      <select
        class="form-select"
        aria-label="select task priority"
        [formControl]="taskForm.controls.priority"
      >
        <option ngValue="">DEFAULT VALUE</option>
        <option ngValue="HIGH">HIGH</option>
        <option ngValue="MEDIUM">MEDIUM</option>
        <option ngValue="LOW">LOW</option>
      </select>
      <span class="d-block text-danger fs-6 mt-1" *ngIf="taskForm.invalid && taskForm.controls.priority.dirty && taskForm.controls.priority.errors?.['required']">Priority is required</span>
    </div>


    <div class="mb-3">
      <label class="form-label  fw-bolder">Completion status</label>
      <select
        class="form-select"
        aria-label="select task priority"
        [formControl]="taskForm.controls.completionStatus"
      >
        <option ngValue="">DEFAULT VALUE</option>
        <option ngValue="DONE">DONE</option>
        <option ngValue="IN_PROGRESS">IN_PROGRESS</option>
        <option ngValue="NOT_STARTED">NOT_STARTED</option>
      </select>
      <span class="d-block text-danger fs-6 mt-1" *ngIf="taskForm.invalid && taskForm.controls.completionStatus.dirty && taskForm.controls.completionStatus.errors?.['required']">Completion status is required</span>
    </div>


    <div class="mb-3">
      <label class="form-label fw-bolder d-block">Due Date</label>

      <ngb-datepicker  #dp [(ngModel)]="model" (navigate)="date = $event.next" name="dueDate"
                        (click)="captureDate()"/>
      <span class="d-block text-danger fs-6 mt-1" *ngIf="taskForm.invalid && taskForm.controls.dueDate.dirty && taskForm.controls.dueDate.errors?.['required']">Due-date is required</span>
    </div>

    <div class="mb-5">
      <button type="submit" class="btn btn-success w-100">Create Task</button>
    </div>
  </form>

</div>

<app-footer/>
